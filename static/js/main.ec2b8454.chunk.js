(this.webpackJsonpcrud_react=this.webpackJsonpcrud_react||[]).push([[0],{20:function(e,t,a){e.exports=a(43)},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),i=a.n(r),s=(a(25),a(3)),o=a(14),c=a(15),m=a(16),u=a(18),d=a(17),f=a(19),h=a(2),b=a.n(h),E=function(e){return l.a.createElement("table",{className:"table col-md-8 mx-auto"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"id"),l.a.createElement("th",null,"email"),l.a.createElement("th",null,"first_name"),l.a.createElement("th",null,"last_name"),l.a.createElement("th",{colspan:"2"},"OPSI"))),e.data.map((function(t,a){return l.a.createElement("tbody",{key:t.id},l.a.createElement("tr",null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.first_name),l.a.createElement("td",null,t.last_name),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.editButton(t)}},"EDIT")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.deleteButton(t.id)}},"DELETE"))))})))},p=function(e){return l.a.createElement("div",{className:"mt-5 mb-5 container"},l.a.createElement("h4",{style:{marginLeft:"400px"}}," Form ",e.formStatus),l.a.createElement("form",{onSubmit:e.onSubmit},l.a.createElement("div",{className:"form-row col-md-12 mx-auto"},l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"email",name:"email",value:e.email,onChange:e.onChangeHandler})),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"first name",name:"first_name",value:e.first_name,onChange:e.onChangeHandler,required:!0})),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"last Name",name:"last_name",value:e.last_name,onChange:e.onChangeHandler,required:!0})),l.a.createElement("div",{className:"col"},l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:e.buttonDisabled},"Submit")))))},_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeHandler=function(e){a.setState(Object(o.a)({},e.target.name,e.target.value))},a.onSubmitHandler=function(e){e.preventDefault();var t={email:a.state.email,first_name:a.state.first_name,last_name:a.state.last_name};if("create"==a.state.formStatus){var n="https://reqres.in/api/users";a.setState({buttonDisabled:!0}),b.a.post(n,t).then((function(e){var t=Object(s.a)(a.state.data);t.push(e.data),a.setState({data:t,email:"",first_name:"",last_name:"",buttonDisabled:!1})})).catch((function(e){console.log(e)}))}else{var l=a.state.idSelected;n="https://reqres.in/api/users/".concat(l);a.setState({buttonDisabled:!0}),b.a.put(n,t).then((function(e){var t=Object(s.a)(a.state.data),n=t.findIndex((function(e){return e.id==a.state.idSelected}));t[n].email=e.data.email,t[n].first_name=e.data.first_name,t[n].last_name=e.data.last_name,a.setState({data:t,email:"",first_name:"",last_name:"",buttonDisabled:!1,idSelected:null})})).catch((function(e){console.log(e)}))}},a.editButtonHandler=function(e){a.setState({email:e.email,first_name:e.first_name,last_name:e.last_name,idSelected:e.id,formStatus:"edit"})},a.deleteButtonHandler=function(e){var t="https://reqres.in/api/users/".concat(e);b.a.delete(t).then((function(t){if(204==t.status){var n=Object(s.a)(a.state.data),l=n.findIndex((function(t){return t.id==e}));n.splice(l,1),a.setState({data:n})}})).catch((function(e){console.log(e)}))},a.state={data:[],email:"",first_name:"",last_name:"",formStatus:"create",buttonDisabled:!1,idSelected:null},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://reqres.in/api/users?page=2").then((function(t){e.setState({data:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(p,{formStatus:this.state.formStatus,onSubmit:this.onSubmitHandler,onChangeHandler:this.onChangeHandler,email:this.state.email,first_name:this.state.first_name,last_name:this.state.last_name,buttonDisabled:this.state.buttonDisabled}),l.a.createElement(E,{data:this.state.data,deleteButton:function(t){return e.deleteButtonHandler(t)},editButton:function(t){return e.editButtonHandler(t)}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.ec2b8454.chunk.js.map